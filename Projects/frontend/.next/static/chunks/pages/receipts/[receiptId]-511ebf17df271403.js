(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{5799:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/receipts/[receiptId]",function(){return i(372)}])},372:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ReceiptPage}});var n=i(5893),s=i(7294),r=i(1163),l=i(6686);function ReceiptPage(){let e=(0,r.useRouter)(),{receiptId:t}=e.query,[i,d]=(0,s.useState)(null),[c,a]=(0,s.useState)(null),[h,o]=(0,s.useState)({});if((0,s.useEffect)(()=>{t&&(async()=>{try{let e=await (0,l.SH)("/api/receipts/".concat(t));if(!e.ok)throw Error("Failed to load receipt");let i=await e.json();d(i.receipt),a(i.details||{}),i.settings&&o(i.settings),setTimeout(()=>{window.print()},300)}catch(e){console.error(e)}})()},[t]),!i)return(0,n.jsx)("div",{className:"p-4",children:"Loading..."});let x=c||{};return(0,n.jsx)("div",{style:{width:800,margin:"0 auto",fontFamily:"Times New Roman, serif",padding:24},children:(0,n.jsxs)("div",{style:{position:"relative"},children:[h&&h.receipt_template_url?(0,n.jsx)("img",{src:h.receipt_template_url,alt:"template",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:1,zIndex:0}}):null,(0,n.jsxs)("div",{style:{position:"relative",zIndex:2,padding:24},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{style:{maxWidth:"60%"},children:[(0,n.jsx)("div",{style:{fontWeight:700,fontSize:18},children:"TRUNG T\xc2M ANH NGỮ"}),(0,n.jsx)("div",{style:{fontSize:12},children:h&&h.receipt_center_address?h.receipt_center_address:"Địa chỉ: ..."}),(0,n.jsx)("div",{style:{fontSize:12},children:h&&h.receipt_center_website?h.receipt_center_website:""})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)("div",{style:{fontSize:12},children:"Mẫu số: 01-05/BLP"}),(0,n.jsx)("div",{style:{fontSize:12},children:"K\xfd hiệu: AA/2012P"}),(0,n.jsxs)("div",{style:{fontSize:12},children:["Số: ",i.receipt_number||""]})]})]}),(0,n.jsxs)("div",{style:{textAlign:"center",marginTop:12,marginBottom:12},children:[(0,n.jsx)("h2",{style:{margin:0,fontSize:28,letterSpacing:1},children:"BI\xcaN LAI THU HỌC PH\xcd"}),(0,n.jsx)("div",{style:{fontSize:12,marginTop:6},children:"Li\xean 1: Lưu"})]}),(0,n.jsxs)("div",{style:{marginTop:16,lineHeight:"28px"},children:[(0,n.jsxs)("div",{children:["Họ t\xean người nộp tiền: ",(0,n.jsx)("span",{style:{fontWeight:700},children:x.payer_name||x.student_name||""})]}),(0,n.jsxs)("div",{children:["Địa chỉ: ",(0,n.jsx)("span",{style:{fontWeight:700},children:x.payer_address||""})]}),(0,n.jsxs)("div",{children:["L\xfd do thu: ",(0,n.jsx)("span",{style:{fontWeight:700},children:x.note||"Học ph\xed"})]}),(0,n.jsxs)("div",{children:["Số tiền: ",(0,n.jsx)("span",{style:{fontWeight:700},children:Number(x.amount||0).toLocaleString()+" đ"})]}),(0,n.jsxs)("div",{children:["H\xecnh thức thanh to\xe1n: ",(0,n.jsx)("span",{style:{fontWeight:700},children:x.method||""})]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:40},children:[(0,n.jsx)("div",{style:{textAlign:"left"},children:(0,n.jsxs)("div",{children:["Ng\xe0y ",new Date(i.created_at).getDate()," th\xe1ng ",new Date(i.created_at).getMonth()+1," năm ",new Date(i.created_at).getFullYear()]})}),(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)("div",{children:"Người thu tiền"}),(0,n.jsx)("div",{style:{marginTop:40},children:"(K\xfd v\xe0 ghi r\xf5 họ t\xean)"})]})]})]})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5799)}),_N_E=e.O()}]);