(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(9557)}])},9557:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ProfilePage}});var i=s(5893),n=s(7294),l=s(6686),a=s(1163),r=s(5951);function ProfilePage(){let[e,t]=(0,n.useState)(null),[s,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),m=(0,a.useRouter)();return((0,n.useEffect)(()=>{let e=!0;return(0,l.SH)("/api/me").then(async e=>{if(!e.ok){if(401===e.status)return m.replace("/login");let t=await e.text().catch(()=>"");throw Error(t||"Status ".concat(e.status))}return e.json()}).then(s=>{e&&t(s)}).catch(t=>{e&&u(t.message||String(t))}).finally(()=>{e&&d(!1)}),()=>{e=!1}},[]),s)?(0,i.jsx)("div",{children:"Loading..."}):c?(0,i.jsx)("div",{className:"text-red-600",children:c}):e?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-semibold",children:(0,r.t)("header.menu.profile","Profile")}),(0,i.jsx)("a",{href:"/settings",className:"px-3 py-2 bg-blue-600 text-white rounded",children:(0,r.t)("header.menu.settings","Settings")})]}),(0,i.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded shadow",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsx)("div",{className:"w-20 h-20 rounded-full bg-indigo-500 text-white flex items-center justify-center text-2xl",children:(e.username||e.name||"").charAt(0)||"?"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-xl font-medium",children:e.name||e.username}),(0,i.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-300",children:e.username}),(0,i.jsx)("div",{className:"mt-2 text-sm",children:(0,r.t)("roles."+(e.role||"").toString().toLowerCase(),e.role||"")})]})]}),(0,i.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-slate-500",children:"Email"}),(0,i.jsx)("div",{className:"font-medium",children:e.email||"-"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-slate-500",children:"Phone"}),(0,i.jsx)("div",{className:"font-medium",children:e.phone||"-"})]})]})]})]}):null}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);