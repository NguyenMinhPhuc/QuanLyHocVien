(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(7644)}])},7644:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Login}});var l=a(5893),s=a(7294),n=a(1163),r=a(9008),i=a.n(r),d=a(6686),o=a(5951);function Login(){let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(""),[c,u]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),m=(0,n.useRouter)();async function submit(t){if(t.preventDefault(),u(null),!e.trim()||!a){u((0,o.t)("login.error.missing","Vui l\xf2ng nhập t\xean đăng nhập v\xe0 mật khẩu"));return}h(!0);try{let t=await (0,d.SH)("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:a})}),l=null,s=t.headers.get("content-type")||"";if(s.includes("application/json")&&(l=await t.json()),!t.ok){let e=l&&(l.error||l.message)||"Lỗi: ".concat(t.status);u(e),h(!1);return}let n=m.query.next||"/";m.replace(n)}catch(e){u(e.message||"Lỗi mạng")}finally{h(!1)}}return(0,l.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-gray-50 dark:from-slate-900 dark:to-slate-800 p-4",children:[(0,l.jsx)(i(),{children:(0,l.jsxs)("title",{children:[(0,o.t)("login.title","Đăng nhập")," - ",(0,o.t)("app.title","Quản l\xfd học vi\xean")]})}),(0,l.jsxs)("div",{className:"w-full max-w-md",children:[(0,l.jsx)("div",{className:"mb-6 flex justify-center",children:(0,l.jsx)("div",{className:"w-16 h-16 rounded-lg bg-blue-600 text-white flex items-center justify-center text-2xl font-bold",children:"CM"})}),(0,l.jsxs)("div",{className:"bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 shadow-lg rounded-lg p-6",children:[(0,l.jsx)("h2",{className:"text-center text-2xl font-semibold text-slate-800 dark:text-slate-100",children:(0,o.t)("login.title","Đăng nhập")}),(0,l.jsx)("p",{className:"text-center text-sm text-slate-500 dark:text-slate-300 mt-2 mb-4",children:(0,o.t)("login.subtitle","Đăng nhập để tiếp tục")}),c&&(0,l.jsx)("div",{className:"text-sm text-red-600 dark:text-red-400 mb-3",children:c}),(0,l.jsxs)("form",{onSubmit:submit,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-slate-700 dark:text-slate-200 mb-1",children:(0,o.t)("login.username","T\xean đăng nhập")}),(0,l.jsx)("input",{value:e,onChange:e=>t(e.target.value),className:"w-full rounded-md p-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 text-slate-900 dark:text-slate-100 placeholder:text-slate-400",placeholder:(0,o.t)("login.username_placeholder","Nhập t\xean đăng nhập"),autoFocus:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-slate-700 dark:text-slate-200 mb-1",children:(0,o.t)("login.password","Mật khẩu")}),(0,l.jsx)("input",{type:"password",value:a,onChange:e=>r(e.target.value),className:"w-full rounded-md p-3 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 text-slate-900 dark:text-slate-100 placeholder:text-slate-400",placeholder:(0,o.t)("login.password_placeholder","Nhập mật khẩu")})]}),(0,l.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 rounded-md bg-blue-600 hover:bg-blue-700 text-white font-medium disabled:opacity-60",children:x?(0,o.t)("login.processing","Đang xử l\xfd..."):(0,o.t)("login.submit","Đăng nhập")})]}),(0,l.jsx)("div",{className:"mt-4 text-center text-sm text-slate-500 dark:text-slate-300",children:(0,l.jsx)("a",{href:"/register",className:"text-blue-600 dark:text-blue-400 hover:underline",children:(0,o.t)("login.no_account","Chưa c\xf3 t\xe0i khoản? Đăng k\xfd")})})]})]})]})}},9008:function(e,t,a){e.exports=a(9201)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);