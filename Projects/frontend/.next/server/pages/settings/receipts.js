"use strict";(()=>{var e={};e.id=920,e.ids=[920,888,660],e.modules={3884:(e,t,r)=>{r.r(t),r.d(t,{config:()=>b,default:()=>g,getServerSideProps:()=>S,getStaticPaths:()=>x,getStaticProps:()=>m,reportWebVitals:()=>h,routeModule:()=>w,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>_});var s={};r.r(s),r.d(s,{default:()=>ReceiptSettings});var a=r(7093),i=r(5244),l=r(1323),n=r(9209),o=r.n(n),c=r(181),u=r(997),p=r(6689),d=r(6686);function ReceiptSettings(){let[e,t]=(0,p.useState)(""),[r,s]=(0,p.useState)(""),[a,i]=(0,p.useState)("");async function save(t){t.preventDefault();try{let t=await (0,d.S)("/api/settings/receipts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({receipt_logo_url:e||null,receipt_center_phone:r||null})});if(!t.ok)throw Error("Failed");await t.json(),i("Saved"),setTimeout(()=>i(""),2e3)}catch(e){i("Error: "+e.message)}}return(0,p.useEffect)(()=>{(async()=>{try{let e=await (0,d.S)("/api/settings/receipts");if(!e.ok)return;let r=await e.json();t(r.receipt_logo_url||""),s(r.receipt_center_phone||"")}catch(e){console.error(e)}})()},[]),(0,u.jsxs)("div",{className:"p-4",children:[u.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Receipt settings"}),a&&u.jsx("div",{className:"mb-2",children:a}),(0,u.jsxs)("form",{onSubmit:save,className:"grid gap-2 max-w-lg",children:[(0,u.jsxs)("div",{children:[u.jsx("label",{className:"block text-sm",children:"Logo URL"}),u.jsx("input",{value:e,onChange:e=>t(e.target.value),className:"p-2 border rounded w-full"})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{className:"block text-sm",children:"Center phone"}),u.jsx("input",{value:r,onChange:e=>s(e.target.value),className:"p-2 border rounded w-full"})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded",children:"Save"})})]})]})}let g=(0,l.l)(s,"default"),m=(0,l.l)(s,"getStaticProps"),x=(0,l.l)(s,"getStaticPaths"),S=(0,l.l)(s,"getServerSideProps"),b=(0,l.l)(s,"config"),h=(0,l.l)(s,"reportWebVitals"),_=(0,l.l)(s,"unstable_getStaticProps"),v=(0,l.l)(s,"unstable_getStaticPaths"),f=(0,l.l)(s,"unstable_getStaticParams"),P=(0,l.l)(s,"unstable_getServerProps"),j=(0,l.l)(s,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/settings/receipts",pathname:"/settings/receipts",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:s})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[761,199,209,450,181],()=>__webpack_exec__(3884));module.exports=r})();