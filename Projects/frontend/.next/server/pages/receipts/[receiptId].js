"use strict";(()=>{var e={};e.id=230,e.ids=[230,888,660],e.modules={1082:(e,t,i)=>{i.r(t),i.d(t,{config:()=>m,default:()=>u,getServerSideProps:()=>j,getStaticPaths:()=>v,getStaticProps:()=>g,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>_});var s={};i.r(s),i.d(s,{default:()=>ReceiptPage});var r=i(7093),n=i(5244),l=i(1323),a=i(9209),d=i.n(a),c=i(181),o=i(997),p=i(6689),x=i(1163),h=i(6686);function ReceiptPage(){let e=(0,x.useRouter)(),{receiptId:t}=e.query,[i,s]=(0,p.useState)(null),[r,n]=(0,p.useState)(null),[l,a]=(0,p.useState)({});if((0,p.useEffect)(()=>{t&&(async()=>{try{let e=await (0,h.S)(`/api/receipts/${t}`);if(!e.ok)throw Error("Failed to load receipt");let i=await e.json();s(i.receipt),n(i.details||{}),i.settings&&a(i.settings),setTimeout(()=>{window.print()},300)}catch(e){console.error(e)}})()},[t]),!i)return o.jsx("div",{className:"p-4",children:"Loading..."});let d=r||{};return o.jsx("div",{style:{width:800,margin:"0 auto",fontFamily:"Times New Roman, serif",padding:24},children:(0,o.jsxs)("div",{style:{position:"relative"},children:[l&&l.receipt_template_url?o.jsx("img",{src:l.receipt_template_url,alt:"template",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover",opacity:1,zIndex:0}}):null,(0,o.jsxs)("div",{style:{position:"relative",zIndex:2,padding:24},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,o.jsxs)("div",{style:{maxWidth:"60%"},children:[o.jsx("div",{style:{fontWeight:700,fontSize:18},children:"TRUNG T\xc2M ANH NGỮ"}),o.jsx("div",{style:{fontSize:12},children:l&&l.receipt_center_address?l.receipt_center_address:"Địa chỉ: ..."}),o.jsx("div",{style:{fontSize:12},children:l&&l.receipt_center_website?l.receipt_center_website:""})]}),(0,o.jsxs)("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:12},children:"Mẫu số: 01-05/BLP"}),o.jsx("div",{style:{fontSize:12},children:"K\xfd hiệu: AA/2012P"}),(0,o.jsxs)("div",{style:{fontSize:12},children:["Số: ",i.receipt_number||""]})]})]}),(0,o.jsxs)("div",{style:{textAlign:"center",marginTop:12,marginBottom:12},children:[o.jsx("h2",{style:{margin:0,fontSize:28,letterSpacing:1},children:"BI\xcaN LAI THU HỌC PH\xcd"}),o.jsx("div",{style:{fontSize:12,marginTop:6},children:"Li\xean 1: Lưu"})]}),(0,o.jsxs)("div",{style:{marginTop:16,lineHeight:"28px"},children:[(0,o.jsxs)("div",{children:["Họ t\xean người nộp tiền: ",o.jsx("span",{style:{fontWeight:700},children:d.payer_name||d.student_name||""})]}),(0,o.jsxs)("div",{children:["Địa chỉ: ",o.jsx("span",{style:{fontWeight:700},children:d.payer_address||""})]}),(0,o.jsxs)("div",{children:["L\xfd do thu: ",o.jsx("span",{style:{fontWeight:700},children:d.note||"Học ph\xed"})]}),(0,o.jsxs)("div",{children:["Số tiền: ",o.jsx("span",{style:{fontWeight:700},children:Number(d.amount||0).toLocaleString()+" đ"})]}),(0,o.jsxs)("div",{children:["H\xecnh thức thanh to\xe1n: ",o.jsx("span",{style:{fontWeight:700},children:d.method||""})]})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:40},children:[o.jsx("div",{style:{textAlign:"left"},children:(0,o.jsxs)("div",{children:["Ng\xe0y ",new Date(i.created_at).getDate()," th\xe1ng ",new Date(i.created_at).getMonth()+1," năm ",new Date(i.created_at).getFullYear()]})}),(0,o.jsxs)("div",{style:{textAlign:"center"},children:[o.jsx("div",{children:"Người thu tiền"}),o.jsx("div",{style:{marginTop:40},children:"(K\xfd v\xe0 ghi r\xf5 họ t\xean)"})]})]})]})]})})}let u=(0,l.l)(s,"default"),g=(0,l.l)(s,"getStaticProps"),v=(0,l.l)(s,"getStaticPaths"),j=(0,l.l)(s,"getServerSideProps"),m=(0,l.l)(s,"config"),f=(0,l.l)(s,"reportWebVitals"),_=(0,l.l)(s,"unstable_getStaticProps"),y=(0,l.l)(s,"unstable_getStaticPaths"),S=(0,l.l)(s,"unstable_getStaticParams"),b=(0,l.l)(s,"unstable_getServerProps"),P=(0,l.l)(s,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/receipts/[receiptId]",pathname:"/receipts/[receiptId]",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:s})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[761,199,209,450,181],()=>__webpack_exec__(1082));module.exports=i})();