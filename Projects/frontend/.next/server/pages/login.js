"use strict";(()=>{var e={};e.id=459,e.ids=[459,888,660],e.modules={5600:(e,t,r)=>{r.r(t),r.d(t,{config:()=>v,default:()=>x,getServerSideProps:()=>S,getStaticPaths:()=>h,getStaticProps:()=>b,reportWebVitals:()=>y,routeModule:()=>w,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>_,unstable_getStaticProps:()=>P});var i={};r.r(i),r.d(i,{default:()=>Login});var s=r(7093),n=r(5244),a=r(1323),l=r(9209),o=r.n(l),u=r(181),d=r(997),p=r(6689),g=r(1163),c=r(6686),m=r(5951);function Login(){let[e,t]=(0,p.useState)(""),[r,i]=(0,p.useState)(""),[s,n]=(0,p.useState)(null),[a,l]=(0,p.useState)(!1),o=(0,g.useRouter)();async function submit(t){if(t.preventDefault(),n(null),!e.trim()||!r){n((0,m.t)("login.error.missing","Vui l\xf2ng nhập t\xean đăng nhập v\xe0 mật khẩu"));return}l(!0);try{let t=await (0,c.S)("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.trim(),password:r})}),i=null,s=t.headers.get("content-type")||"";if(s.includes("application/json")&&(i=await t.json()),!t.ok){let e=i&&(i.error||i.message)||`Lỗi: ${t.status}`;n(e),l(!1);return}let a=o.query.next||"/";o.replace(a)}catch(e){n(e.message||"Lỗi mạng")}finally{l(!1)}}return(0,d.jsxs)("div",{style:{maxWidth:420,margin:"40px auto",padding:20,border:"1px solid #eee",borderRadius:6},children:[d.jsx("h1",{style:{marginBottom:12},children:(0,m.t)("login.title","Đăng nhập")}),(0,d.jsxs)("form",{onSubmit:submit,children:[(0,d.jsxs)("div",{style:{marginBottom:10},children:[d.jsx("label",{style:{display:"block",marginBottom:6},children:(0,m.t)("login.username","T\xean đăng nhập")}),d.jsx("input",{value:e,onChange:e=>t(e.target.value),style:{width:"100%",padding:8,boxSizing:"border-box"}})]}),(0,d.jsxs)("div",{style:{marginBottom:10},children:[d.jsx("label",{style:{display:"block",marginBottom:6},children:(0,m.t)("login.password","Mật khẩu")}),d.jsx("input",{type:"password",value:r,onChange:e=>i(e.target.value),style:{width:"100%",padding:8,boxSizing:"border-box"}})]}),d.jsx("div",{style:{marginTop:10},children:d.jsx("button",{type:"submit",disabled:a,style:{padding:"8px 16px"},children:a?(0,m.t)("login.processing","Đang xử l\xfd..."):(0,m.t)("login.submit","Đăng nhập")})}),s&&d.jsx("div",{style:{color:"red",marginTop:12},children:s})]})]})}let x=(0,a.l)(i,"default"),b=(0,a.l)(i,"getStaticProps"),h=(0,a.l)(i,"getStaticPaths"),S=(0,a.l)(i,"getServerSideProps"),v=(0,a.l)(i,"config"),y=(0,a.l)(i,"reportWebVitals"),P=(0,a.l)(i,"unstable_getStaticProps"),_=(0,a.l)(i,"unstable_getStaticPaths"),f=(0,a.l)(i,"unstable_getStaticParams"),j=(0,a.l)(i,"unstable_getServerProps"),q=(0,a.l)(i,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:u.default,Document:o()},userland:i})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[761,199,209,450,181],()=>__webpack_exec__(5600));module.exports=r})();